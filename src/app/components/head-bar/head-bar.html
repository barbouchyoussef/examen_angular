<header class="head-bar bg-primary text-light py-3 d-flex justify-content-between align-items-center px-3">
  <h1 class="m-0 fs-3">Open Library App</h1>

  <!-- Bouton Wishlist -->
  <div class="wishlist-container position-relative">
    <button class="btn btn-light text-danger d-flex align-items-center" (click)="toggleDropdown()">
      <i class="bi bi-heart-fill me-1"></i>
      Wishlist ({{ wishlist.length }})
    </button>

    <!-- Dropdown Wishlist -->
    <div *ngIf="showDropdown" class="wishlist-dropdown position-absolute bg-white border rounded shadow p-2">
      
      <!-- Message si vide -->
      <div *ngIf="wishlist.length === 0" class="p-2 text-center text-muted">
        Aucun livre dans la wishlist
      </div>

      <!-- Liste des livres -->
      <div *ngFor="let book of wishlist" class="wishlist-item d-flex align-items-center mb-2 p-1 rounded hover-bg"
           (click)="openBook(book)">
        <img [src]="book.cover_id ? 'https://covers.openlibrary.org/b/id/' + book.cover_id + '-S.jpg' : 'assets/no-cover.png'"
             alt="{{ book.title }} Cover" width="40" height="60" class="me-2" style="object-fit: cover;">
        <span class="wishlist-title">{{ book.title }}</span>

        <!-- Bouton supprimer -->
        <button class="btn btn-sm btn-outline-danger ms-auto" (click)="removeBook(book); $event.stopPropagation()">
          &times;
        </button>
      </div>
    </div>
  </div>
</header>
